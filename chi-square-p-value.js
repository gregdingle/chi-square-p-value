!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("analyse",[],r):"object"==typeof exports?exports.analyse=r():t.analyse=r()}(window,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)e.d(n,a,function(r){return t[r]}.bind(null,a));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=0)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _matrix=__webpack_require__(1),_matrix2=_interopRequireDefault(_matrix);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var madd=function(t){return t/sum},mpwr=function(t){return t*t},div=function(t,r){return t/r},LogGamma=function(t){var r=1+76.18009173/t-86.50532033/(t+1)+24.01409822/(t+2)-1.231739516/(t+3)+.00120858003/(t+4)-536382e-11/(t+5);return(t-.5)*Math.log(t+4.5)-(t+4.5)+Math.log(2.50662827465*r)},Gcf=function(t,r){for(var e=0,n=1,a=1,i=t,o=0,u=0;Math.abs((a-o)/a)>1e-5;)o=a,a=t*(e=a+((u+=1)-r)*e)+u*a,e/=i=t*(n=i+(u-r)*n)+u*i,n/=i,a/=i,i=1;return 1-Math.exp(r*Math.log(t)-t-LogGamma(r))*a},Gser=function(t,r){for(var e=1/r,n=e,a=1;e>1e-5*n;)n+=e=e*t/(r+a),a+=1;return n*=Math.exp(r*Math.log(t)-t-LogGamma(r))},Gammacdf=function(t,r){return t<=0?0:t<r+1?Gser(t,r):Gcf(t,r)},computeP=function computeP(chi,df){var Z=eval(chi),DF=eval(df),Chisqcdf=void 0;return DF<=0?console.error("Degrees of freedom must be positive"):Chisqcdf=Gammacdf(Z/2,DF/2),Chisqcdf=Math.round(1e5*Chisqcdf)/1e5,Chisqcdf<1?(1-Chisqcdf).toFixed(5):0},analyse=function(t){var r=_matrix2.default.create(t),e=_matrix2.default.map(function(){return 1},r),n=_matrix2.default.create(e.mat.slice(0,1)),a=_matrix2.default.transpose(_matrix2.default.create(_matrix2.default.transpose(e).mat.slice(0,1)));sum=_matrix2.default.mult(_matrix2.default.mult(_matrix2.default.transpose(e),r),_matrix2.default.transpose(n)).mat[1];var i=_matrix2.default.mult(n,_matrix2.default.transpose(r)),o=_matrix2.default.mult(_matrix2.default.transpose(r),a),u=_matrix2.default.transpose(_matrix2.default.mult(o,i));u=_matrix2.default.map(madd,u);var m=_matrix2.default.sub(r,u);m=_matrix2.default.map(mpwr,m),m=_matrix2.default.combine(div,m,u);var f=(m=_matrix2.default.mult(_matrix2.default.mult(e,_matrix2.default.transpose(m)),a)).mat[1],s=(r.m-1)*(r.n-1);return{chi:f,df:s,pValue:computeP(f,s)}};exports.default=analyse},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="Matrix 1.01",a=new function(){this.version=n;var t=Math.abs,r=Math.pow(2,-40);function e(e){return t(e)<r?0:e}function i(t,r,e){if(!e.isMatrix)throw"***ERROR: Argument "+r+" of Matrix."+t+' is not a Matrix; its value is "'+e+'".'}function o(t){for(var r=t.length,n=0;n<r;n++){if(!(t[n]instanceof Array))throw"***ERROR: in Matrix.create: argument 1 is not a 2D array.";if(t[n].length!=t[0].length)throw"***ERROR: in Matrix.create: argument 1 has different length rows."}for(var a=t[0].length,i=new Array(r),n=0;n<r;n++){i[n]=new Array(a);for(var o=0;o<a;o++)i[n][o]=e(t[n][o])}var u=new Object;return u.m=r,u.n=a,u.mat=i,u.isMatrix=!0,u}function u(t,r){for(var e=new Array(t),n=0;n<t;n++)e[n]=new Array(r);var a=new Object;return a.m=t,a.n=r,a.mat=e,a.isMatrix=!0,a}this.getEPS=function(){return r},this.setEPS=function(t){r=t},this.create=function(t,r){var e=t instanceof Array;if(!e&&"number"!=typeof t)throw"***ERROR: in Matrix.create: argument 1 is not an array or a number.";if(e&&null!=r)throw"***ERROR: in Matrix.create: argument 1 is an array but argument 2 is also present.";return e?o(t):u(t,r)},this.identity=function(t,r){for(var e=u(t,r),n=0;n<e.m;n++)for(var a=0;a<e.n;a++)e.mat[n][a]=0;for(var n=0;n<Math.min(t,r);n++)e.mat[n][n]=1;return e},this.unit=function(t,r){for(var e=u(t,r),n=0;n<t;n++)for(var a=0;a<r;a++)e.mat[n][a]=1;return e},this.random=function(t,r){for(var n=u(t,r),a=0;a<t;a++)for(var i=0;i<r;i++)n.mat[a][i]=e(Math.random());return n},this.copy=function(t,r,e,n,a){i("copy",1,t);for(var o=u(n,a),m=0;m<n;m++)for(var f=0;f<a;f++)o.mat[m][f]=t.mat[m+r][f+e];return o},this.transpose=function(t){i("transpose",1,t);for(var r=u(t.n,t.m),e=0;e<r.m;e++)for(var n=0;n<r.n;n++)r.mat[e][n]=t.mat[n][e];return r},this.diagOf=function(t){i("diagOf",1,t);for(var r=u(Math.min(t.m,t.n),1),e=0;e<r.m;e++)r.mat[e][0]=t.mat[e][e];return r},this.diag=function(t){if(i("diag",1,t),1!=t.n)throw"***ERROR: in Matrix.diag: argument 1 is not a column vector.";for(var r=a.identity(t.m,t.m),e=0;e<r.m;e++)r.mat[e][e]=t.mat[e][0];return r},this.max=function(t){i("max",1,t);for(var r=t.mat[0][0],n=0;n<t.m;n++)for(var a=0;a<t.n;a++)t.mat[n][a]>r&&(r=t.mat[n][a]);return e(r)},this.min=function(t){i("min",1,t);for(var r=t.mat[0][0],n=0;n<t.m;n++)for(var a=0;a<t.n;a++)t.mat[n][a]<r&&(r=t.mat[n][a]);return e(r)},this.scale=function(t,r){i("scale",1,t);for(var n=o(t.mat),a=0;a<n.m;a++)for(var u=0;u<n.n;u++)n.mat[a][u]=e(r*n.mat[a][u]);return n},this.add=function(t,r){if(i("add",1,t),i("add",2,r),t.m!=r.m||t.n!=r.n)throw"***ERROR: in Matrix.add: matrix dimensions don't match.";for(var n=u(t.m,t.n),a=0;a<n.m;a++)for(var o=0;o<n.n;o++)n.mat[a][o]=e(t.mat[a][o]+r.mat[a][o]);return n},this.sub=function(t,r){if(i("sub",1,t),i("sub",2,r),t.m!=r.m||t.n!=r.n)throw"***ERROR: in Matrix.sub: matrix dimensions don't match.";for(var n=u(t.m,t.n),a=0;a<n.m;a++)for(var o=0;o<n.n;o++)n.mat[a][o]=e(t.mat[a][o]-r.mat[a][o]);return n},this.mult=function(t,r){if(i("mult",1,t),i("mult",2,r),t.n!=r.m)throw"***ERROR: in Matrix.mult: matrix dimensions don't match.";for(var n,a=u(t.m,r.n),o=0;o<a.m;o++)for(var m=0;m<a.n;m++){n=0;for(var f=0;f<t.n;f++)n+=t.mat[o][f]*r.mat[f][m];a.mat[o][m]=e(n)}return a},this.map=function(t,r){i("map",2,r);for(var n=u(r.m,r.n),a=0;a<n.m;a++)for(var o=0;o<n.n;o++)n.mat[a][o]=e(t(r.mat[a][o]));return n},this.combine=function(t,r,n){if(i("combine",1,r),i("combine",2,n),r.m!=n.m||r.n!=n.n)throw"***ERROR: in Matrix.combine: matrix dimensions don't match.";for(var a=u(r.m,r.n),o=0;o<a.m;o++)for(var m=0;m<a.n;m++)a.mat[o][m]=e(t(r.mat[o][m],n.mat[o][m]));return a},this.trace=function(t){i("trace",1,t);for(var r=0,n=0;n<Math.min(t.m,t.n);n++)r+=t.mat[n][n];return e(r)},this.det=function(t){if(i("det",1,t),t.m!=t.n)throw"***ERROR: in Matrix.det: argument is not square.";return e(LUDecomposition.det(create(t)))},this.inverse=function(t){return i("inverse",1,t),a.solve(t,a.identity(t.m,t.m))},this.solve=function(t,r){if(i("solve",1,t),i("solve",2,r),t.m==t.n)return LUDecomposition.solve(create(t),r);if(t.m>t.n){var e=create(t);return QRDecomposition.solve(e,r)}throw"***ERROR: in Matrix.solve: argument 1 has fewer rows than columns."},this.eigenstructure=function(t){if(i("eigenstructure",1,t),t.m!=t.n)throw"***ERROR: in Matrix.eigenstructure: argument is not a square matrix.";return EVDecomposition.create(t)},this.display=function(t,r){i("display",1,t),null==r&&(r=3),displayMat(t.mat,null,null,r)}};r.default=a}])});